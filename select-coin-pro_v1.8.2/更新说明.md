# 选币回测框架-PRO

## 邢不行® 策略分享会️

### v1.8.2

> 发布时间: 2025-09-30

- 新增 market 配置项
  - spot_swap: 在 '现货' 市场中进行选币。如果现货币种含有'合约'，优先交易 '合约'。
- 扩充 timing_signal.py 功能，支持三期船队功能。
  - 扩展择时脚本的新函数写法，解锁更多用法
- 调整范围选币的类型检查，支持列表和元组配置
  - 选币数量的范围配置，支持： [0.1, 0.2] 和 (0.1, 0.2)
- 对接回测网页版，增加并调整相关内容
  - 调整`tools`目录下的工具脚本
  - 新增`param_search_for_ui.py`


> 修改文件

- [core目录](core)
- [tools目录](tools)
- [param_search_for_ui.py](param_search_for_ui.py)



### v1.8.1

> 发布时间: 2025-05-16

- 新增 market 配置(如果一下配置没有看懂，可以看一下@学费菌老板的帖子)
  - 选币市场范围 & 交易配置
  - 配置解释： 选币范围 + '_' + 优先交易币种类型
  - spot_spot: 在 '现货' 市场中进行选币。如果现货币种含有'合约'，优先交易 '现货'。
  - swap_swap: 在 '合约' 市场中进行选币。如果现货币种含有'现货'，优先交易 '合约'。
  - spot_swap: 在 '现货' 市场中进行选币。如果现货币种含有'合约',优先交易'合约'。
  - mix_spot:  在 '现货与合约' 的市场中进行选币。如果两边市场都存在的币种，会保留'现货'，并优先下单'现货'。
  - mix_swap:  在 '现货与合约' 的市场中进行选币。如果两边市场都存在的币种，会保留'合约'，并优先下单'合约'。
- 优化计算截面因子的内存
- 1.8.0的截面因子写法已经被抛弃(注意之前 config 配置现在迁移到截面因子内，参考`sections`案例因子)


> 修改文件

- [core目录](core)
- [pct.py](sections/pct.py)


### v1.8.0

> 发布时间: 2025-04-15

- 增加计算截面因子功能
- 调整市值数据读取操作，兼容下架后又上架的币种数据

> 修改文件

- 新增[sections](sections)目录，存储截面因子
- [strategy_config.py](core/model/strategy_config.py)
- [factor_hub.py](core/utils/factor_hub.py)
- [backtest.py](core/backtest.py)
- [data_bridge.py](core/data_bridge.py)
- [select_coin.py](core/select_coin.py)


### v1.7.0

> 发布时间: 2025-03-22


- tool1新增过滤因子以及根据因子值分组绘制分箱图
- tool3新增可视化表格展示实盘回测独有选币，并可选择绘制单个币实盘回测因子值对比图
- tool4改为多策略选币相似度热力图
- 新增tool5对比多个策略资金曲线涨跌幅相关性
- 配合tools工具，调整回测默认保存全部选币文件


> 修改文件

- [tools目录](tools)
- [backtest.py](core/backtest.py)


### v1.6.0

> 发布时间: 2025-03-16

- 增加因子分析工具
- 增加参数分析工具
- 增加回测实盘对比工具
- 增加选币重读度工具
- 细化了一下 backtest 里面的部分注释

> 修改文件

- [tools目录](tools)
- [backtest.py](core/backtest.py)


### v1.5.1

> 发布时间: 2025-02-28

- 美化资金曲线图。增加多空占比和多空选币数量
- 修复遍历offset时，输出结果会出现重名的情况
- 调整画图函数的路径参数
- 修复当币种价格/最小下单量出现为0时，计算目标手数数据溢出的问题

> 修改文件

- [strategy_config.py](core/model/strategy_config.py)
- [rebalance.py](core/rebalance.py)
- [backtest.py](core/backtest.py)
- [equity.py](core/equity.py)
- [figure.py](core/figure.py)

---

### v1.5.0

> 发布时间: 2025-01-10

- 增加“外部数据”的支持

-----

### v1.4.0

> 发布时间: 2024-12-27

- 添加2025策略分享会专属策略因子和配置
- 优化、简化文件结构
